<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KASPERIA — API Docs</title>
  <link rel="shortcut icon" href="./assets/favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="./css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css">
</head>

<body>
  <header>
    <div class="container nav">
      <a class="brand" href="index.html"><img src="./assets/logo.png" alt="Kasperia"><strong>KASPERIA</strong></a>
      <nav class="nav-links" id="navLinks">
        <a href="index.html" class="">Home</a>
        <a href="./docs.html" class="active">API Docs</a>
        <a href="https://chromewebstore.google.com/detail/kasperia/ffalcabgggegkejjlknofllbaledgcob?hl=zh-CN&utm_source=ext_sidebar"
          target="_blank">Download</a>
        <span class="nav-underline"></span>
      </nav>
      <button class="menu-btn" aria-label="menu"
        onclick="document.getElementById('navLinks').classList.toggle('open')">☰</button>
    </div>
  </header>
  <main class="container pt28 mb20">
    <div class="docs">
      <nav>
        <strong>API Docs</strong>

        <a href="#wallet" class="active">Kasperia Wallet</a>
        <a href="#quickStart">Quick Start</a>

        <details class="toc-group" open>
          <summary>
            <span>Kaspa integration</span>
            <span class="toc-desc">Kaspa-native API</span>
          </summary>
          <a class="toc-sub" href="#kaspa">Getting Started</a>
          <a class="toc-sub" href="#browser">Browser Detection</a>
          <a class="toc-sub" href="#connecting">Connecting to Kasperia Wallet</a>
          <strong class="toc-strong">Methods</strong>
          <a class="toc-sub" href="#kaspa-requestAccounts">requestAccounts</a>
          <a class="toc-sub" href="#kaspa-getAccounts">getAccounts</a>
          <a class="toc-sub" href="#kaspa-getVersion">getVersion</a>
          <a class="toc-sub" href="#kaspa-getNetwork">getNetwork</a>
          <a class="toc-sub" href="#kaspa-switchNetwork">switchNetwork</a>
          <a class="toc-sub" href="#kaspa-disconnect">disconnect</a>
          <a class="toc-sub" href="#kaspa-getPublicKey">getPublicKey</a>

          <a class="toc-sub" href="#kaspa-getBalance">getBalance</a>
          <a class="toc-sub" href="#kaspa-sendKaspa">sendKaspa</a>
          <a class="toc-sub" href="#kaspa-submitCommitReveal">submitCommitReveal</a>

          <strong class="toc-strong">Events</strong>
          <a class="toc-sub" href="#kaspa-accountsChanged">accountsChanged</a>
          <a class="toc-sub" href="#kaspa-networkChanged">networkChanged</a>
        </details>
        <details class="toc-group" open>
          <summary>
            <span>EVM integration</span>
            <span class="toc-desc">Injected EIP-1193</span>
          </summary>
          <a class="toc-sub" href="#integration">Overview</a>
          <a class="toc-sub" href="#provider">get Provider</a>
          <a class="toc-sub" href="#eth_requestAccounts">eth_requestAccounts</a>
          <a class="toc-sub" href="#eth_accounts">eth_accounts</a>
          <a class="toc-sub" href="#eth_getBalance">eth_getBalance</a>
          <a class="toc-sub" href="#eth_chainId">eth_chainId</a>
          <a class="toc-sub" href="#wallet_switchEthereumChain">wallet_switchEthereumChain</a>
          <a class="toc-sub" href="#eth_sendTransaction">eth_sendTransaction</a>
          <strong class="toc-strong">Events</strong>
          <a class="toc-sub" href="#accountsChanged">accountsChanged</a>
        </details>
      </nav>
      <article>
        <h1>Kaspa Wallet Integration (Kasperia)</h1>
        <p>This guide helps you integrate the <b>Kasperia</b> browser extension wallet with your web application. It
          follows popular wallet‑injection patterns and adopts the EIP‑6963 provider discovery standard for a smooth
          multi‑wallet experience. The examples are TypeScript‑friendly.</p>

        <h2 id="wallet">Kasperia Wallet</h2>
        <p>Kasperia Wallet is a non-custodial wallet. We never have access to your funds. Kasperia Wallet never stores
          your seed phrase, your password or any private information. Your accounts are derived from your Secret
          Recovery Phrase.</p>
        <ol>
          <li>Kasperia Wallet is a hierarchical deterministic wallet. Your accounts are derived from your Secret
            Recovery Phrase.</li>
          <li>Your private keys are encrypted on your device by your password and are never shared with anyone.</li>
          <li>Kasperia Wallet doesn't track any personal identifiable information, your account addresses, or asset
            balances.</li>
          <li>Use RPC/SDK to query balances and submit transactions.</li>
        </ol>
        <h2 id="quickStart">Quick Start</h2>
        <p>Go to the <a
            href="https://chromewebstore.google.com/detail/kasperia/ffalcabgggegkejjlknofllbaledgcob?hl=zh-CN&utm_source=ext_sidebar"
            target="_blank">chrome extension</a> webstore and install Kasperia wallet extension.</p>


        <h2 id="kaspa">Kaspa integration</h2>
        <p>Welcome to Kasperia's integration documentation. This documentation is for learning to integrate Kasperia
          wallet with your applications. Please note : The integration API may be modified if relevant standards are
          officially released by kaspa core team one day in the future.</p>
        <h4>Getting Started</h4>
        <p>First of all, install Kasperia Wallet on your development machine. Once Kasperia Wallet is installed and
          running, you should find that new browser tabs have a window.kasperia object available in the developer
          console. This is how your website will interact with Kasperia Wallet.</p>
        <h2 id="browser">Browser Detection</h2>
        <p>To verify if the browser is running Kasperia Wallet, copy and paste the code snippet below in the developer
          console of your web browser:</p>
        <pre><button class="copy-btn">Copy</button><code class="language-js">if (typeof window.kasperia !== 'undefined') {
  console.log('kasperia Wallet is installed!');
}</code></pre>
        <p>You can review the full API for the window.kasperia object here.</p>
        <h2 id="connecting">Connecting to kasperia Wallet</h2>
        <p class="mb10">"Connecting" or "logging in" to kasperia Wallet effectively means "to access the user's Kaspa
          account(s)".</p>
        <p class="mb10">You should only initiate a connection request in response to direct user action, such as
          clicking a button. You should always disable the "connect" button while the connection request is pending. You
          should never initiate a connection request on page load.</p>
        <p>We recommend that you provide a button to allow the user to connect kasperia Wallet to your dapp. Clicking
          this button should call the following method:</p>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.requestAccounts();</code></pre>

        <h2 id="kaspa-requestAccounts">Methods</h2>
        <h4>requestAccounts</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.requestAccounts();</code></pre>
        <p>Connect the current account.</p>
        <h4>Parameters</h4>
        <p>none</p>
        <h4>Returns</h4>
        <p>Promise returns string[] : Address of current account.</p>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  let accounts = await kasperia.requestAccounts();
  console.log('connect success', accounts);
} catch (e) {
  console.log('connect failed');
}
> connect success ['kaspatest:qq9h47etjv6x8jgcla0ecnp8mgrkfxm70ch3k60es5a50ypsf4h6sak3g0lru']</code></pre>
        <h2 id="kaspa-getAccounts">getAccounts</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.getAccounts();</code></pre>
        <p>Get address of current account. It's also used to certify if the user is connected, which should be called
          first.</p>
        <h4>Parameters</h4>
        <p>none</p>
        <h4>Returns</h4>
        <ul>
          <li><strong>Promise</strong> - string: address of current account</li>
        </ul>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  let res = await window.kasperia.getAccounts();
  console.log(res)
} catch (e) {
  console.log(e);
}
> ["kaspatest:qq9h47etjv6x8jgcla0ecnp8mgrkfxm70ch3k60es5a50ypsf4h6sak3g0lru"]</code></pre>

        <h2 id="kaspa-getVersion">getVersion</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.getVersion();</code></pre>
        <p>get wallet version</p>
        <h4>Parameters</h4>
        <p>none</p>
        <h4>Returns</h4>
        <ul>
          <li><strong>Promise</strong> - string: wallet version</li>
        </ul>
        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  const res = await kasperia.getVersion();
  console.log(res)
} catch (e) {
  console.log(e);
}
> "1.10.52"</code></pre>

        <h2 id="kaspa-getNetwork">getNetwork</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.getNetwork();</code></pre>
        <p>get network</p>
        <h4>Parameters</h4>
        <p>none</p>
        <h4>Returns</h4>
        <ul>
          <li><strong>Promise</strong> - string: the network. livenet and testnet</li>
        </ul>
        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  let res = await kasperia.getNetwork();
  console.log(res)
} catch (e) {
  console.log(e);
}
​
> 'mainnet'</code></pre>

        <h2 id="kaspa-switchNetwork">switchNetwork</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.switchNetwork(network);</code></pre>
        <p>switch network It's disable in the mobile app.</p>
        <h4>Parameters</h4>
        <ul>
          <li><strong>network</strong> - string: the network. mainnet/testnet</li>
        </ul>
        <h4>Returns</h4>
        <p>none</p>
        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  let res = await kasperia.switchNetwork("mainnet");
  console.log(res)
} catch (e) {
  console.log(e);
}
​
</code></pre>

        <h2 id="kaspa-disconnect">disconnect</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.disconnect(origin);</code></pre>
        <p>disconnect kasperia wallet</p>
        <h4>Parameters</h4>
        <ul>
          <li><strong>origin</strong> - string: website origin url</li>
        </ul>
        <h4>Returns</h4>
        <p>none</p>
        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  let origin = window.location.origin;
  await kasperia.disconnect(origin);
} catch (e) {
  console.log(e);
}
​</code></pre>


        <h2 id="kaspa-getPublicKey">getPublicKey</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.getPublicKey();</code></pre>
        <p>Get publicKey of current account.</p>
        <h4>Parameters</h4>
        <p>none</p>
        <h4>Returns</h4>
        <ul>
          <li><strong>Promise</strong> - string: publicKey</li>
        </ul>
        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  let res = await kasperia.getPublicKey();
  console.log(res)
} catch (e) {
  console.log(e);
}
> 03cbaedc26f03fd3ba02fc936f338e980c9e2172c5e23128877ed46827e935296f</code></pre>


        <h2 id="kaspa-getBalance">getBalance</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.getBalance();</code></pre>
        <p>Get KAS balance</p>
        <h4>Parameters</h4>
        <p>none</p>
        <h4>Returns</h4>
        <ul>
          <li><strong>Promise</strong> - Object:</li>
          <li class="ml20"><strong>total</strong> - number : the total sompi</li>
        </ul>
        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  let res = await kasperia.getBalance();
  console.log(res)
} catch (e) {
  console.log(e);
}
​
> {
    "total":100000
  }</code></pre>

        <h2 id="kaspa-sendKaspa">sendKaspa</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.sendKaspa(toAddress, sompi, options);</code></pre>
        <p>Send KAS</p>
        <h4>Parameters</h4>
        <ul>
          <li><strong>toAddress</strong> - string: the address to send</li>
          <li><strong>sompi</strong> - number: the sompi to send</li>
          <li><strong>options</strong> - object: (optional)</li>
          <li class="ml20"><strong>payload</strong> - string: payload for transactions</li>
        </ul>
        <h4>Returns</h4>
        <ul>
          <li><strong>Promise</strong> - string: txid</li>
        </ul>
        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  let txid = await kasperia.sendKaspa(
    "kaspatest:qq9h47etjv6x8jgcla0ecnp8mgrkfxm70ch3k60es5a50ypsf4h6sak3g0lru",
    1000
  );
  console.log(txid);
} catch (e) {
  console.log(e);
}</code></pre>

        <h2 id="kaspa-submitCommitReveal">submitCommitReveal</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.submitCommitReveal(commitParams, revealParams);</code></pre>
        <p>Submit commit & reveal transactions for inscription (e.g. KNS / KRC).</p>
        <h4>Parameters</h4>
        <p>commitParams – object</p>
        <p class="ml20">Commit transaction parameters.</p>
        <ul>
          <li><strong>outputs</strong> - array</li>
        </ul>
        <p>Output list for commit transaction.</p>
        <ul>
          <li><strong>address</strong> - string: Receiver address (testnet / mainnet).</li>
          <li><strong>amount</strong> - string: Amount in sompi.</li>
        </ul>
        <p>revealParams – object</p>
        <p class="ml20">Reveal (inscription) parameters.</p>
        <ul>
          <li><strong>Promise</strong> – object</li>
          <li class="ml20"><strong>protocol</strong> - string: Protocol name, e.g. "kns" | "krc20" | "kspr_krc721"</li>
          <li class="ml20"><strong>action</strong> - object: Inscription action payload, depends on protocol.</li>
        </ul>
        <h4>Returns</h4>
        <ul>
          <li><strong>Promise</strong> – object</li>
          <li class="ml20"><strong>commitTxid</strong> - string: Commit transaction hash.</li>
          <li class="ml20"><strong>revealTxid</strong> - string: Reveal transaction hash.</li>
        </ul>
        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  const result = await kasperia.submitCommitReveal(
    {
      outputs: [
        {
          address: "kaspatest:qq9h47etjv6x8jgcla0ecnp8mgrkfxm70ch3k60es5a50ypsf4h6sak3g0lru",
          amount: "3500000000",
        },
      ],
    },
    {
      protocol: "kns",
      action: {
        op: "create",
        p: "domain",
        v: "jemes22",
      },
    }
  );

  console.log("commit & reveal txid", result);
} catch (e) {
  console.log(e);
}</code></pre>
        <h4>Response Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">{
  commitTxid: "d4aa375cbf00ef14b1a6eb3f15a2ade2dfcc22b259495ade8d92688c9a9c6f81",
  revealTxid: "71ba18fc3e14088c843760ab4a7876bf0997608c0682fb8e1632481b35c99724"
}</code></pre>

        <h2 id="kaspa-accountsChanged">accountsChanged</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.on('accountsChanged', handler: (accounts: Array<string>) => void);
kasperia.removeListener('accountsChanged', handler: (accounts: Array<string>) => void);</code></pre>
        <p>The accountsChanged will be emitted whenever the user's exposed account address changes.</p>

        <h2 id="kaspa-networkChanged">networkChanged</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.on('networkChanged', handler: (network: string) => void);
kasperia.removeListener('networkChanged', handler: (network: string) => void);</code></pre>
        <p>The networkChanged will be emitted whenever the user's network changes.</p>



        <h2 id="integration">EVM integration</h2>
        <p class="mb10">In order to provide support for Kaspa-based layer2 networks, the kasperia wallet has integrated
          support for EVM networks. When utilizing the kasperia wallet, users can directly submit layer2 transactions to
          Kaspa. Consequently, this offers protection against MEV attacks, which is a distinct advantage compared to
          other wallets.</p>
        <p class="mb10">EVM web apps can interact with Kasperia wallet via the provider that is injected at
          window.Kasperia.ethereum. This provider conforms to the <a href="https://eips.ethereum.org/EIPS/eip-1193"
            target="_blank">EIP-1193</a> standard and is also injected at window.ethereum to support legacy
          integrations.</p>
        <p class="mb10">To detect if a user has already installed Kasperia wallet, a web application should check for
          the existence of a Kasperia object.
          If a Kasperia object exists, EVM dApps can interact with Kasperia wallet via the API found at
          window.kasperia.ethereum. This ethereum provider is also made available at window.ethereum but is prone to
          namespace collisions from other injected wallets.</p>

        <h2 id="provider">Get Provider</h2>
        <p></p>
        <pre><button class="copy-btn">Copy</button><code class="language-js">function getProvider() {
  const providerList = []
  const handler = (event) => {
    if(!providerList.some(i => i.rdns === event.detail.info.rdns)) {
      providerList.push({ ...event.detail.info, provider: event.detail.provider })
    }
  }
  window.addEventListener("eip6963:announceProvider", handler);
  window.dispatchEvent(new Event("eip6963:requestProvider"));
  const kasperiaProvider = providerList.find(i => i.rdns === "io.kasperia.wallet")
  window.removeEventListener("eip6963:announceProvider", handler);
  return kasperiaProvider || null
}
const kasperia = await getProvider()
</code></pre>

        <h2 id="eth_requestAccounts">Eth_requestAccounts</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">const accounts = await kasperia.provider.request({ method: "eth_requestAccounts" })</code></pre>
        <p>Connect the current account.</p>
        <h4>Parameters</h4>
        <p>none</p>
        <h4>Returns</h4>
        <p>Promise returns string[] : Address of current account.</p>
        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  let accounts = await await kasperia.provider.request({ method: "eth_requestAccounts" })
  console.log('connect success', accounts);
} catch (e) {
  console.log('connect failed');
}
> connect success ['0xAd0a0406fF27e4De7B7577e8e1877A8780f3E138']
</code></pre>

        <h2 id="eth_accounts">eth_accounts</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">const accounts = await kasperia.provider.request({ method: "eth_accounts" })</code></pre>
        <p>Get address of current account. It's also used to certify if the user is connected, which should be called
          first.</p>
        <h4>Parameters</h4>
        <p>none</p>
        <h4>Returns</h4>
        <p>Promise - string: address of current account</p>
        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  let accounts = await kasperia.provider.request({ method: "eth_accounts" })
  console.log('connect success', accounts);
} catch (e) {
  console.log('connect failed');
}
> connect success ['0xAd0a0406fF27e4De7B7577e8e1877A8780f3E138']</code></pre>

        <h2 id="eth_getBalance">eth_getBalance</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">const balance = await kasperia.provider.request({ method: "eth_getBalance" })</code></pre>
        <p>Get balance of current account. It's also used to certify if the user is connected, which should be called
          first.</p>
        <h4>Parameters</h4>
        <pre><code class="language-js">params: [address, "latest"]</code></pre>
        <h4>Returns</h4>
        <p>Promise - string: the hexadecimal amount passed into the account</p>
        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  let balance = await kasperia.provider.request({ 
    method: "eth_getBalance", 
    params: [address, "latest"] })
  console.log('balance info', balance);
} catch (e) {
  console.log('balance failed');
}
> balance info 0x0</code></pre>

        <h2 id="eth_chainId">eth_chainId</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">const chainId = await kasperia.provider.request({ method: "eth_chainId" })</code></pre>
        <p>get network</p>
        <h4>Parameters</h4>
        <p>none</p>
        <h4>Returns</h4>
        <p>Promise - string: the chainId in hexadecimal</p>
        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  let chainId = await kasperia.provider.request({   method: "eth_chainId" })
  console.log('chainId info', chainId);
} catch (e) {
  console.log('chainId failed');
}
> chainId info 0xcc</code></pre>

        <h2 id="wallet_switchEthereumChain">wallet_switchEthereumChain</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">const chainId = await kasperia.provider.request({ 
  method: "wallet_switchEthereumChain", 
  params: [{ chainId: "0x28c64" }] 
})</code></pre>
        <p></p>
        <h4>Parameters</h4>
        <p>params: [{ chainId: "0x28c64" }]</p>
        <h4>Returns</h4>
        <p>none</p>
        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">try {
  await kasperia.provider.request({ 
    method: "wallet_switchEthereumChain", 
    params: [{ chainId: "0x28c64" }] 
  })
  console.log('chainId switch successful');
} catch (e) {
  console.log('chainId failed');
}</code></pre>
        <h2 id="eth_sendTransaction">sendTransaction</h2>
        <pre><button class="copy-btn">Copy</button><code class="language-js">const hash = await kasperia.provider.request({
  method: 'eth_sendTransaction',
  params: [{
    from: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e',
    to: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e',
    value: '0x0',
    data: '.....'
  }]
});</code></pre>
        <p>
          The <code>sendTransaction</code> method constructs and sends an Ethereum transaction through the connected
          wallet provider.
          It internally encodes the contract call <code>lockForBridge(payloadHex)</code> and sends it to the specified
          smart contract address.
        </p>

        <h4>Parameters</h4>
        <ul>
          <li><strong>from</strong> - string: The source address (currently connected wallet address).</li>
          <li><strong>to</strong> - string: Target contract address .</li>
          <li><strong>value</strong> - string: Transaction value in hexadecimal.</li>
          <li><strong>data</strong> - string: ABI-encoded contract function call (<code>lockForBridge</code> payload).
          </li>
        </ul>

        <h4>Returns</h4>
        <ul>
          <li><strong>hash</strong> - string: Transaction hash returned from the provider.</li>
        </ul>

        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">import Web3 from "web3";
const web3 = new Web3(kasperia.provider)
const toAddress = "kaspatest:qp48ut63r78w5umx6tpk4vu6s4ftv79x2uf56arar3acqs368mxd65sfdeqjl"
const contractAbi = [...]
const contractAddress = "0x1234567890123456789012345678901234567890"
const contract =new web3.eth.Contract(contractAbi,contractAddress)
const payloadHex =web3.utils.toHex(toAddress)
const data = contract.methods.lockForBridge(payloadHex).encodeABI();
try {
const hash = await kasperia.provider.request({
  method: 'eth_sendTransaction',
  params: [{
    from: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e',
    to: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e',
    value: '0x0',
    data
  }]
})
  console.log("Transaction Hash:", hash);
} catch (error) {
  console.log("Transaction failed:", error);
}</code></pre>



        <h2 id="Events">Events</h2>
        <h4 id="accountsChanged">accountsChanged</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">kasperia.provider.on('accountsChanged', onAccountsChangedHandler);
kasperia.provider.removeListener('accountsChanged', onAccountsChangedHandler);
</code></pre>
        <p>The accountsChanged will be emitted whenever the user's exposed account address changes.</p>

        <h4>Example</h4>
        <pre><button class="copy-btn">Copy</button><code class="language-js">
kasperia.provider.on('accountsChanged', (accounts) => {
  const accounts = Array.isArray(accountsRaw) ? accountsRaw : [];
  const address = accounts[0] ?? '';
  console.log('address', address)
})
</code></pre>


      </article>
    </div>
  </main>

  <footer>
    <div class="container foot">
      <div class="left">
        <img src="./assets/logo.png" alt="logo">
        <div>KASPERIA · © <span id="year"></span></div>
      </div>
      <div class="social">
        <a href="https://github.com/jeanku/kasperia-extension" target="_blank" rel="noopener">
          <img src="./assets/github.svg" alt="github">
        </a>
        <a href="https://x.com/KasperiaWallet" target="_blank" rel="noopener">
          <img src="./assets/twitter.svg" alt="x">
        </a>
      </div>
    </div>
  </footer>
  <script src="../js/main.js"></script>
  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>

</body>

</html>